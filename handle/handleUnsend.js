const _0x3003d5=_0x3aa1;(function(_0x9c49b1,_0x13c81f){const _0x1e9470=_0x3aa1,_0x37b43a=_0x9c49b1();while(!![]){try{const _0x541a68=parseInt(_0x1e9470(0x1a2))/0x1*(parseInt(_0x1e9470(0x18d))/0x2)+-parseInt(_0x1e9470(0x191))/0x3+parseInt(_0x1e9470(0x19e))/0x4+parseInt(_0x1e9470(0x182))/0x5*(-parseInt(_0x1e9470(0x178))/0x6)+-parseInt(_0x1e9470(0x1af))/0x7+-parseInt(_0x1e9470(0x17f))/0x8+-parseInt(_0x1e9470(0x1a1))/0x9*(-parseInt(_0x1e9470(0x179))/0xa);if(_0x541a68===_0x13c81f)break;else _0x37b43a['push'](_0x37b43a['shift']());}catch(_0x437d9c){_0x37b43a['push'](_0x37b43a['shift']());}}}(_0x42ff,0xc5f8b));const fs=require('fs'),path=require(_0x3003d5(0x1b6)),https=require('https');function _0x3aa1(_0x160e77,_0x4e10d2){const _0x42ff70=_0x42ff();return _0x3aa1=function(_0x3aa185,_0x3bf1c2){_0x3aa185=_0x3aa185-0x172;let _0x442e4b=_0x42ff70[_0x3aa185];return _0x442e4b;},_0x3aa1(_0x160e77,_0x4e10d2);}let data=__dirname+_0x3003d5(0x18b);const configPath=process[_0x3003d5(0x1b3)]()+_0x3003d5(0x195),config=JSON[_0x3003d5(0x1aa)](fs[_0x3003d5(0x1a3)](configPath,_0x3003d5(0x177)));let mes=_0x3003d5(0x174),messagesData={};function clear(){const _0xbbf0e2=_0x3003d5;messagesData={},fs[_0xbbf0e2(0x194)](path[_0xbbf0e2(0x1b1)](data),JSON[_0xbbf0e2(0x18a)](messagesData,null,0x2));}function _0x42ff(){const _0x5007f4=['animated_image','4874807fWRDZP','Someone\x20has\x20try\x20to\x20unsent\x20this\x20photo(s)','join','push','cwd','Someone\x20has\x20try\x20to\x20unsent\x20this\x20video.','Error\x20downloading\x20video\x20','path','audio','existsSync','\x0aReact\x20like\x20(👍)\x20to\x20this\x20message\x20to\x20unsend.','getCurrentUserID','assign','utf8','396468MJNgwi','710cZoHSv','image_','message','message_unsend','utf-8','Someone\x20has\x20try\x20to\x20unsent\x20this\x20GIF.','10892800KBjFrF','audio_','.jpg','20kWAPPo','VIP','Error\x20saving\x20video\x20to\x20file\x20','error','ADMINBOT','pipe','Video\x20downloaded\x20successfully','.gif','stringify','/unsent.json','createWriteStream','2OcFbVQ','log','createReadStream','end','2989392VSwdyH','photo','sendMessage','writeFileSync','/config.json','map','Animated\x20image\x20Download\x20Successfully...','threadID','messageID','includes','cache','SETTING','stickerID','4962488oyuMgX','Someone\x20try\x20to\x20unsent\x20this\x20voice\x20message.','url','239391VfZzRX','1000517rWPJjB','readFileSync','senderID','Someone\x20try\x20to\x20unsent\x20this\x20sticker:\x20','get','Someone\x20try\x20to\x20unsent\x20this\x20message:\x20','type','Audio\x20Download\x20Successfully...','parse','attachments','body','length'];_0x42ff=function(){return _0x5007f4;};return _0x42ff();}clear(),setInterval(clear,0x1e*0x3c*0x3e8);async function handleUnsend(_0x485b35,_0x27dddd){const _0x1ed155=_0x3003d5;async function _0x45af8d(){const _0x572e96=_0x3aa1;try{const _0x4afbbb={'body':_0x572e96(0x1a7)+messagesData[_0x27dddd[_0x572e96(0x199)]][_0x572e96(0x1ac)]+mes};_0x485b35[_0x572e96(0x193)](_0x4afbbb,_0x27dddd[_0x572e96(0x198)],_0x27dddd[_0x572e96(0x199)]);}catch(_0x2b2e1){console[_0x572e96(0x185)](_0x2b2e1[_0x572e96(0x17b)]);}}async function _0x5e5048(){const _0x3581ab=_0x3aa1;try{const _0x2cac94=[],_0xe0caac=messagesData[_0x27dddd[_0x3581ab(0x199)]]['attachments'][_0x3581ab(0x196)](_0xaa84c0=>_0xaa84c0['url']);for(let _0xe47f85=0x0;_0xe47f85<_0xe0caac[_0x3581ab(0x1ad)];_0xe47f85++){const _0x439842=path[_0x3581ab(0x1b1)](__dirname,_0x3581ab(0x19b),_0x3581ab(0x17a)+_0xe47f85+_0x3581ab(0x181));await new Promise((_0x57ee8d,_0x2b2e9f)=>{const _0x3fd545=_0x3581ab;https[_0x3fd545(0x1a6)](_0xe0caac[_0xe47f85],_0x1dd859=>{const _0x55919b=_0x3fd545,_0x4d63e7=fs[_0x55919b(0x18c)](_0x439842);_0x1dd859[_0x55919b(0x187)](_0x4d63e7),_0x1dd859['on'](_0x55919b(0x190),()=>{const _0x2d3800=_0x55919b;console['log']('Image\x20Download\x20Successfully...'),_0x2cac94[_0x2d3800(0x1b2)](fs[_0x2d3800(0x18f)](_0x439842)),_0x57ee8d();}),_0x1dd859['on'](_0x55919b(0x185),_0x28bd36=>{_0x2b2e9f(_0x28bd36);});});});}const _0x348be4={'body':_0x3581ab(0x1b0)+mes,'attachment':_0x2cac94};_0x485b35[_0x3581ab(0x193)](_0x348be4,_0x27dddd[_0x3581ab(0x198)],_0x15ba5b=>{const _0x163a2e=_0x3581ab;if(_0x15ba5b)return console[_0x163a2e(0x185)](_0x15ba5b[_0x163a2e(0x17b)]);});}catch(_0x506cc8){console[_0x3581ab(0x185)](_0x506cc8['message']);}}async function _0x13fe75(){const _0x46a1b9=_0x3aa1;try{const _0xaef965=[],_0x724fee=messagesData[_0x27dddd[_0x46a1b9(0x199)]][_0x46a1b9(0x1ab)]['map'](_0x3801d9=>_0x3801d9[_0x46a1b9(0x1a0)]);for(let _0x1becf7=0x0;_0x1becf7<_0x724fee[_0x46a1b9(0x1ad)];_0x1becf7++){const _0x204cfa=path['join'](__dirname,'cache','image_'+_0x1becf7+_0x46a1b9(0x189));await new Promise((_0x31ddcf,_0x3a235b)=>{const _0xd84f93=_0x46a1b9;https[_0xd84f93(0x1a6)](_0x724fee[_0x1becf7],_0x56257d=>{const _0x4a4cf7=_0xd84f93,_0x1cdd3d=fs[_0x4a4cf7(0x18c)](_0x204cfa);_0x56257d[_0x4a4cf7(0x187)](_0x1cdd3d),_0x56257d['on']('end',()=>{const _0x51030e=_0x4a4cf7;console['log'](_0x51030e(0x197)),_0xaef965[_0x51030e(0x1b2)](fs['createReadStream'](_0x204cfa)),_0x31ddcf();}),_0x56257d['on'](_0x4a4cf7(0x185),_0x1cc9f3=>{_0x3a235b(_0x1cc9f3);});});});}const _0x7cb615={'body':_0x46a1b9(0x17e)+mes,'attachment':_0xaef965};_0x485b35['sendMessage'](_0x7cb615,_0x27dddd[_0x46a1b9(0x198)],_0x85b82e=>{const _0x26042f=_0x46a1b9;if(_0x85b82e)return console[_0x26042f(0x185)](_0x85b82e['message']);});}catch(_0x1de423){console['error'](_0x1de423['message']);}}async function _0x49e6f9(){const _0x26bfbd=_0x3aa1;try{const _0x1d964b=messagesData[_0x27dddd[_0x26bfbd(0x199)]][_0x26bfbd(0x1ab)][_0x26bfbd(0x196)](_0xa8bcc8=>_0xa8bcc8[_0x26bfbd(0x1a0)]),_0x5f5a43=path['join'](__dirname,'cache','video.mp4');let _0x11e80c=null;await new Promise((_0x3cb3d3,_0x40cbac)=>{const _0x23d9b0=_0x26bfbd,_0x23e028=fs[_0x23d9b0(0x18c)](_0x5f5a43),_0x3c7e36=https['get'](_0x1d964b[0x0],_0xa535d=>{_0xa535d['pipe'](_0x23e028),_0x23e028['on']('finish',()=>{const _0x10a4f5=_0x3aa1;console[_0x10a4f5(0x18e)](_0x10a4f5(0x188)),_0x11e80c=fs[_0x10a4f5(0x18f)](_0x5f5a43),_0x3cb3d3();});});_0x3c7e36['on']('error',_0x4b91e0=>{const _0x4b5b30=_0x23d9b0;console[_0x4b5b30(0x185)](_0x4b5b30(0x1b5)+_0x1d964b[0x0]+':\x20'+_0x4b91e0[_0x4b5b30(0x17b)]),_0x40cbac(_0x4b91e0);}),_0x23e028['on'](_0x23d9b0(0x185),_0x2661a4=>{const _0x52664b=_0x23d9b0;console[_0x52664b(0x185)](_0x52664b(0x184)+_0x5f5a43+':\x20'+_0x2661a4[_0x52664b(0x17b)]),_0x40cbac(_0x2661a4);});});const _0xfc4ee4={'body':_0x26bfbd(0x1b4)+mes,'attachment':_0x11e80c};_0x485b35[_0x26bfbd(0x193)](_0xfc4ee4,_0x27dddd[_0x26bfbd(0x198)],_0x56304e=>{const _0x1b898c=_0x26bfbd;if(_0x56304e)return console[_0x1b898c(0x185)](_0x56304e[_0x1b898c(0x17b)]);});}catch(_0x303c86){console[_0x26bfbd(0x185)](_0x303c86[_0x26bfbd(0x17b)]);}}async function _0x469011(){const _0x49707e=_0x3aa1;try{const _0x189048=messagesData[_0x27dddd[_0x49707e(0x199)]]['attachments'][0x0][_0x49707e(0x19d)];_0x485b35[_0x49707e(0x193)](_0x49707e(0x1a5)+mes,_0x27dddd[_0x49707e(0x198)],async(_0x4a889c,_0x187339)=>{if(_0x4a889c)return;setTimeout(()=>{const _0x9afe9f=_0x3aa1;_0x485b35[_0x9afe9f(0x193)]({'sticker':_0x189048},_0x27dddd[_0x9afe9f(0x198)]);},0x5dc);});}catch(_0x465207){return console['error'](_0x465207[_0x49707e(0x17b)]);}}async function _0x448e11(){const _0x5ce377=_0x3aa1;try{const _0xe9d0bd=[],_0x118dd4=messagesData[_0x27dddd['messageID']][_0x5ce377(0x1ab)][_0x5ce377(0x196)](_0x43dbfc=>_0x43dbfc['url']);for(let _0x2b98db=0x0;_0x2b98db<_0x118dd4[_0x5ce377(0x1ad)];_0x2b98db++){const _0xf797d6=path['join'](__dirname,'cache',_0x5ce377(0x180)+_0x2b98db+'.mp3');await new Promise((_0x2776b8,_0xd452c8)=>{https['get'](_0x118dd4[_0x2b98db],_0x197335=>{const _0x442913=_0x3aa1,_0x33e3ed=fs['createWriteStream'](_0xf797d6);_0x197335[_0x442913(0x187)](_0x33e3ed),_0x197335['on']('end',()=>{const _0x34b4a6=_0x442913;console[_0x34b4a6(0x18e)](_0x34b4a6(0x1a9)),_0xe9d0bd[_0x34b4a6(0x1b2)](fs[_0x34b4a6(0x18f)](_0xf797d6)),_0x2776b8();}),_0x197335['on'](_0x442913(0x185),_0x174389=>{_0xd452c8(_0x174389);});});});}const _0x25e946={'body':_0x5ce377(0x19f)+mes,'attachment':_0xe9d0bd};_0x485b35['sendMessage'](_0x25e946,_0x27dddd['threadID'],_0xaa409d=>{const _0x27a5de=_0x5ce377;_0xaa409d&&ole[_0x27a5de(0x185)](_0xaa409d['message']);});}catch(_0x42316d){console[_0x5ce377(0x185)](_0x42316d[_0x5ce377(0x17b)]);}}try{if(fs[_0x1ed155(0x173)](path[_0x1ed155(0x1b1)](data))){const _0x130f6d=fs[_0x1ed155(0x1a3)](path['join'](data),_0x1ed155(0x17d));_0x130f6d&&Object[_0x1ed155(0x176)](messagesData,JSON[_0x1ed155(0x1aa)](_0x130f6d));}}catch(_0x1c50b9){console[_0x1ed155(0x185)](_0x1c50b9['message']);}(_0x27dddd[_0x1ed155(0x1a8)]===_0x1ed155(0x17b)||_0x27dddd[_0x1ed155(0x1a8)]==='message_reply')&&(messagesData[_0x27dddd['messageID']]=_0x27dddd,fs['writeFile'](path[_0x1ed155(0x1b1)](data),JSON[_0x1ed155(0x18a)](messagesData,null,0x2),_0xb60c6=>{if(_0xb60c6)return;}));try{const _0x5777f4=process[_0x1ed155(0x1b3)]()+_0x1ed155(0x195),_0x1c1945=fs['readFileSync'](_0x5777f4,'utf8'),_0x147af1=JSON['parse'](_0x1c1945);if(_0x147af1&&_0x147af1[_0x1ed155(0x19c)]['AUTORESEND']===!![]){const _0x45bc5e=config[_0x1ed155(0x183)]['includes'](_0x27dddd[_0x1ed155(0x1a4)])||config[_0x1ed155(0x186)][_0x1ed155(0x19a)](_0x27dddd[_0x1ed155(0x1a4)]);if(_0x27dddd['type']===_0x1ed155(0x17c)&&!_0x45bc5e){if(_0x27dddd[_0x1ed155(0x1a4)]===_0x485b35[_0x1ed155(0x175)]())return;if(messagesData[_0x27dddd['messageID']]&&messagesData[_0x27dddd[_0x1ed155(0x199)]][_0x1ed155(0x1ab)][_0x1ed155(0x1ad)]>0x0){if(messagesData[_0x27dddd['messageID']][_0x1ed155(0x1ab)][0x0][_0x1ed155(0x1a8)]===_0x1ed155(0x192))_0x5e5048();else{if(messagesData[_0x27dddd[_0x1ed155(0x199)]][_0x1ed155(0x1ab)][0x0][_0x1ed155(0x1a8)]===_0x1ed155(0x1ae))_0x13fe75();else{if(messagesData[_0x27dddd[_0x1ed155(0x199)]][_0x1ed155(0x1ab)][0x0][_0x1ed155(0x1a8)]==='video')_0x49e6f9();else{if(messagesData[_0x27dddd[_0x1ed155(0x199)]][_0x1ed155(0x1ab)][0x0][_0x1ed155(0x1a8)]===_0x1ed155(0x172))_0x448e11();else messagesData[_0x27dddd['messageID']][_0x1ed155(0x1ab)][0x0][_0x1ed155(0x1a8)]==='sticker'&&_0x469011();}}}}else _0x45af8d();}}}catch(_0x42c409){console['error']('Error\x20reading\x20settings:',_0x42c409);return;}}module['exports']=handleUnsend;